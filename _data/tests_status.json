{
  "error" : "SearchPhaseExecutionException[Failed to execute phase [query], all shards failed; shardFailures {[IsEOFsbuQDWD-TX2EM7WLg][.kibana][0]: SearchParseException[[.kibana][0]: query[filtered(test.status:*)->BooleanFilter(+no_cache(@timestamp:[1437164818407 TO *]))],from[-1],size[0]: Parse Failure [Failed to parse source [{  \"size\": 0,  \"query\": {    \"filtered\": {      \"query\": {        \"query_string\": {          \"query\": \"test.status:*\",          \"analyze_wildcard\": true        }      },      \"filter\": {        \"bool\": {          \"must\": [            {              \"range\": {                \"@timestamp\": {                  \"gte\": \"now-1w\"                }              }            }          ],          \"must_not\": []        }      }    }  },  \"aggs\": {    \"by_id\": {      \"terms\": {        \"field\": \"data.id\",        \"size\": 50,        \"order\": {          \"_count\": \"desc\"        }      },      \"aggs\": {        \"by_name\": {          \"terms\": {            \"field\": \"test.name\",            \"size\": 50,            \"order\": {              \"_count\": \"desc\"            }          }        },        \"aggs\": {          \"by_status\": {            \"terms\": {              \"field\": \"test.status\",              \"size\": 5,              \"order\": {                \"_count\": \"desc\"              }            }          }        }      }    }  }}]]]; nested: SearchParseException[[.kibana][0]: query[filtered(test.status:*)->BooleanFilter(+no_cache(@timestamp:[1437164818407 TO *]))],from[-1],size[0]: Parse Failure [Could not find aggregator type [by_status] in [aggs]]]; }{[IsEOFsbuQDWD-TX2EM7WLg][logstash-2015.07.24][0]: SearchParseException[[logstash-2015.07.24][0]: query[filtered(test.status:*)->BooleanFilter(+no_cache(@timestamp:[1437164818407 TO *]))],from[-1],size[0]: Parse Failure [Failed to parse source [{  \"size\": 0,  \"query\": {    \"filtered\": {      \"query\": {        \"query_string\": {          \"query\": \"test.status:*\",          \"analyze_wildcard\": true        }      },      \"filter\": {        \"bool\": {          \"must\": [            {              \"range\": {                \"@timestamp\": {                  \"gte\": \"now-1w\"                }              }            }          ],          \"must_not\": []        }      }    }  },  \"aggs\": {    \"by_id\": {      \"terms\": {        \"field\": \"data.id\",        \"size\": 50,        \"order\": {          \"_count\": \"desc\"        }      },      \"aggs\": {        \"by_name\": {          \"terms\": {            \"field\": \"test.name\",            \"size\": 50,            \"order\": {              \"_count\": \"desc\"            }          }        },        \"aggs\": {          \"by_status\": {            \"terms\": {              \"field\": \"test.status\",              \"size\": 5,              \"order\": {                \"_count\": \"desc\"              }            }          }        }      }    }  }}]]]; nested: SearchParseException[[logstash-2015.07.24][0]: query[filtered(test.status:*)->BooleanFilter(+no_cache(@timestamp:[1437164818407 TO *]))],from[-1],size[0]: Parse Failure [Could not find aggregator type [by_status] in [aggs]]]; }{[IsEOFsbuQDWD-TX2EM7WLg][logstash-2015.07.24][1]: SearchParseException[[logstash-2015.07.24][1]: query[filtered(test.status:*)->BooleanFilter(+no_cache(@timestamp:[1437164818407 TO *]))],from[-1],size[0]: Parse Failure [Failed to parse source [{  \"size\": 0,  \"query\": {    \"filtered\": {      \"query\": {        \"query_string\": {          \"query\": \"test.status:*\",          \"analyze_wildcard\": true        }      },      \"filter\": {        \"bool\": {          \"must\": [            {              \"range\": {                \"@timestamp\": {                  \"gte\": \"now-1w\"                }              }            }          ],          \"must_not\": []        }      }    }  },  \"aggs\": {    \"by_id\": {      \"terms\": {        \"field\": \"data.id\",        \"size\": 50,        \"order\": {          \"_count\": \"desc\"        }      },      \"aggs\": {        \"by_name\": {          \"terms\": {            \"field\": \"test.name\",            \"size\": 50,            \"order\": {              \"_count\": \"desc\"            }          }        },        \"aggs\": {          \"by_status\": {            \"terms\": {              \"field\": \"test.status\",              \"size\": 5,              \"order\": {                \"_count\": \"desc\"              }            }          }        }      }    }  }}]]]; nested: SearchParseException[[logstash-2015.07.24][1]: query[filtered(test.status:*)->BooleanFilter(+no_cache(@timestamp:[1437164818407 TO *]))],from[-1],size[0]: Parse Failure [Could not find aggregator type [by_status] in [aggs]]]; }{[IsEOFsbuQDWD-TX2EM7WLg][logstash-2015.07.24][2]: SearchParseException[[logstash-2015.07.24][2]: query[filtered(test.status:*)->BooleanFilter(+no_cache(@timestamp:[1437164818407 TO *]))],from[-1],size[0]: Parse Failure [Failed to parse source [{  \"size\": 0,  \"query\": {    \"filtered\": {      \"query\": {        \"query_string\": {          \"query\": \"test.status:*\",          \"analyze_wildcard\": true        }      },      \"filter\": {        \"bool\": {          \"must\": [            {              \"range\": {                \"@timestamp\": {                  \"gte\": \"now-1w\"                }              }            }          ],          \"must_not\": []        }      }    }  },  \"aggs\": {    \"by_id\": {      \"terms\": {        \"field\": \"data.id\",        \"size\": 50,        \"order\": {          \"_count\": \"desc\"        }      },      \"aggs\": {        \"by_name\": {          \"terms\": {            \"field\": \"test.name\",            \"size\": 50,            \"order\": {              \"_count\": \"desc\"            }          }        },        \"aggs\": {          \"by_status\": {            \"terms\": {              \"field\": \"test.status\",              \"size\": 5,              \"order\": {                \"_count\": \"desc\"              }            }          }        }      }    }  }}]]]; nested: SearchParseException[[logstash-2015.07.24][2]: query[filtered(test.status:*)->BooleanFilter(+no_cache(@timestamp:[1437164818407 TO *]))],from[-1],size[0]: Parse Failure [Could not find aggregator type [by_status] in [aggs]]]; }{[IsEOFsbuQDWD-TX2EM7WLg][logstash-2015.07.24][3]: SearchParseException[[logstash-2015.07.24][3]: query[filtered(test.status:*)->BooleanFilter(+no_cache(@timestamp:[1437164818407 TO *]))],from[-1],size[0]: Parse Failure [Failed to parse source [{  \"size\": 0,  \"query\": {    \"filtered\": {      \"query\": {        \"query_string\": {          \"query\": \"test.status:*\",          \"analyze_wildcard\": true        }      },      \"filter\": {        \"bool\": {          \"must\": [            {              \"range\": {                \"@timestamp\": {                  \"gte\": \"now-1w\"                }              }            }          ],          \"must_not\": []        }      }    }  },  \"aggs\": {    \"by_id\": {      \"terms\": {        \"field\": \"data.id\",        \"size\": 50,        \"order\": {          \"_count\": \"desc\"        }      },      \"aggs\": {        \"by_name\": {          \"terms\": {            \"field\": \"test.name\",            \"size\": 50,            \"order\": {              \"_count\": \"desc\"            }          }        },        \"aggs\": {          \"by_status\": {            \"terms\": {              \"field\": \"test.status\",              \"size\": 5,              \"order\": {                \"_count\": \"desc\"              }            }          }        }      }    }  }}]]]; nested: SearchParseException[[logstash-2015.07.24][3]: query[filtered(test.status:*)->BooleanFilter(+no_cache(@timestamp:[1437164818407 TO *]))],from[-1],size[0]: Parse Failure [Could not find aggregator type [by_status] in [aggs]]]; }{[IsEOFsbuQDWD-TX2EM7WLg][logstash-2015.07.24][4]: SearchParseException[[logstash-2015.07.24][4]: query[filtered(test.status:*)->BooleanFilter(+no_cache(@timestamp:[1437164818407 TO *]))],from[-1],size[0]: Parse Failure [Failed to parse source [{  \"size\": 0,  \"query\": {    \"filtered\": {      \"query\": {        \"query_string\": {          \"query\": \"test.status:*\",          \"analyze_wildcard\": true        }      },      \"filter\": {        \"bool\": {          \"must\": [            {              \"range\": {                \"@timestamp\": {                  \"gte\": \"now-1w\"                }              }            }          ],          \"must_not\": []        }      }    }  },  \"aggs\": {    \"by_id\": {      \"terms\": {        \"field\": \"data.id\",        \"size\": 50,        \"order\": {          \"_count\": \"desc\"        }      },      \"aggs\": {        \"by_name\": {          \"terms\": {            \"field\": \"test.name\",            \"size\": 50,            \"order\": {              \"_count\": \"desc\"            }          }        },        \"aggs\": {          \"by_status\": {            \"terms\": {              \"field\": \"test.status\",              \"size\": 5,              \"order\": {                \"_count\": \"desc\"              }            }          }        }      }    }  }}]]]; nested: SearchParseException[[logstash-2015.07.24][4]: query[filtered(test.status:*)->BooleanFilter(+no_cache(@timestamp:[1437164818407 TO *]))],from[-1],size[0]: Parse Failure [Could not find aggregator type [by_status] in [aggs]]]; }]",
  "status" : 400
}
